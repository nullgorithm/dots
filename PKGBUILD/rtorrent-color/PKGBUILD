# rtorrent with color patch

pkgname=rtorrent-color
_pkgname="rtorrent"
pkgver=0.9.3
pkgrel=2
pkgdesc='Ncurses BitTorrent client based on libTorrent - with color patch'
url='http://libtorrent.rakshasa.no/'
license=('GPL')
arch=('any')
depends=('libtorrent=0.13.3' 'curl' 'xmlrpc-c' 'libsigc++')
source=("${url}/downloads/${_pkgname}-${pkgver}.tar.gz"
        "${_pkgname}-${pkgver}_canvas_color.patch")
md5sums=('0bf2f262faa8c8c8d3b11ce286ea2bf2'
         '9493e0065726ffbf9eb01f8e77fd6cd6')

build() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  patch -uNp1 -i "${SRCDEST}/${_pkgname}-${pkgver}_canvas_color.patch"

  ./configure \
    --prefix=/usr \
    --enable-debug \
    --with-xmlrpc-c \

  make
}

package() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install
  install -D doc/rtorrent.rc "${pkgdir}"/usr/share/doc/rtorrent/rtorrent.rc
}
